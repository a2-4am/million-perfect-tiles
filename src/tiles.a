;license:MIT
;(c) 2022 by 4am
;
!cpu 6502
!to "build/TILES.SYSTEM",plain
*=$2000

         !source "src/constants.a"              ; no code
         !source "src/macros.a"                 ; no code
         !source "src/tiles.init.a"             ; one-time initialization code, exits via Start
         !source "src/hw.accel.a"

FirstMover
!pseudopc $4000 {
Start
         jsr   PointerOnStartup
         jsr   Home
         sec
         jsr   MainMenuEventLoop
         jsr   PointerOnShutdown
         jsr   EnableAccelerator
         jsr   MLI
         !byte $65
         !word +
+        !byte 4,0,0,0,0

         !source "src/ui.strings.a"
         !source "src/ui.main.menu.a"
         !source "src/ui.select.size.a"
         !source "src/ui.play.a"
         !source "src/ui.about.a"
         !source "src/ui.demo.a"
         !source "src/ui.puzzle.a"
         !source "src/ui.focus.a"
         !source "src/ui.pointer.a"
         !source "src/ui.common.a"
         !source "src/ui.font.wide.a"
         !source "src/ui.font.condensed.a"
         !source "src/ui.font.wide.data.a"
         !source "src/ui.font.condensed.data.a"
         !source "src/solver.a"
         !source "src/common.a"
         !source "src/unpack.a"
         !source "src/mouse.a"
}
LastMover
